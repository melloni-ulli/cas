<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0,initial-scale=1.0, user-scalable=no">
<title>Карта квестов</title>
<meta name="Description" content="" />
<meta name="keywords" content="" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<link type="text/css" rel="Stylesheet" href="maps.css">
</head>
<body>

<div id="raz">
<img src="karta.jpg" id="images" ontouchmove="pppp(event);"/>
</div>

<input type="button" onclick="PozP(120,0);" value="Сдвиг на 120вправо"/>
<input type="button" onclick="PozL(120,0);" value="Сдвиг на 120 влево"/>




<script>
$(document).on('touchmove', function() {
  $(document).trigger('wheel');
});

var block = document.getElementById('images');
var x = 200;

block.onwheel = function(event) {
        if(event.deltaY < 0 && x < 600){
        x += 5;
        this.style.width = x + '%';
       }
	   
      if(event.deltaY > 0 && x > 200){
        x -= 5;
        this.style.width = x + '%';
      }
    return false;
}

function pppp(event) {
    var block = document.getElementById('images');
        if(event.deltaY < 0 && x < 600){
        x += 5;
        block.style.width = x + '%';
       }
	   
      if(event.deltaY > 0 && x > 200){
        x -= 5;
        block.style.width = x + '%';
      }
    return false;
}

function PozP(x,y) {
   var div = document.getElementById('raz');
	 div.scrollLeft += x;
     div.scrollTop += y;
}

function PozL(x,y) {
   var div = document.getElementById('raz');
	 div.scrollLeft -= x;
     div.scrollTop -= y;
}


(function(){
var div = document.getElementById('raz'),
    x1 = null, y1 = null, z = false;
div.addEventListener('mousemove', Raz, false); // событие при движении мышки
div.addEventListener('click', Raz, false); // событие при клике
div.addEventListener('mouseup', Raz0, false); // событие с отпущенной клавишей мышки
div.addEventListener('mouseout', Raz0, false); // событие при выходе за пределы области
function Raz(e) {
  if (z == true || e.type == "click") {
    div.scrollLeft -= e.clientX-x1;
    div.scrollTop -= e.clientY-y1;
    

    x1 = e.clientX; 
    y1 = e.clientY;
  }  
}

div.onmousedown = function(e) { // событие с нажатой клавишей мышки
  var kl = e.keyCode || e.which;
  if (kl == "1") { // только для левой клавиши мышки
    z = true;
    x1 = e.clientX;
    y1 = e.clientY;
  }
}
function Raz0() {z = false;}
})()
</script>

</body>
</html>